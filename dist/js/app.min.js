!function(){"use strict";var t=CoreLibrary.Component.subclass({defaultArgs:{title:"Form"},constructor:function(){CoreLibrary.Component.apply(this,arguments)},init:function(){CoreLibrary.widgetModule.enableWidgetTransition(!0);var t;t=null!=this.scope.args.eventId?this.scope.args.eventId:CoreLibrary.pageInfo.pageParam,CoreLibrary.statisticsModule.getStatistics("tpi","event/"+t+"/").then(function(t){this.scope.teams=[],this.scope.teams.push({name:t.homeParticipant.participantName,detailed:!1,lastEvents:this.parseLastEvents(t.homeParticipant.participantId,t.homeParticipant.lastEvents)}),this.scope.teams.push({name:t.awayParticipant.participantName,detailed:!1,lastEvents:this.parseLastEvents(t.awayParticipant.participantId,t.awayParticipant.lastEvents)}),this.scope.teams.forEach(function(t){sightglass(t,"detailed",this.adjustHeight.bind(this))}.bind(this)),this.adjustHeight(),this.scope.onLoad="block"}.bind(this))["catch"](function(t){CoreLibrary.widgetModule.removeWidget()}),this.view.binders["box-css-class"]=function(t,a){t.classList.add("kw-match-"+a)}},parseLastEvents:function(t,a){var e=[];return a.forEach(function(a){if(a.homeParticipant&&a.awayParticipant&&a.scores&&a.scores.length>0){var i="win";a.scores[0].homeScore===a.scores[0].awayScore?i="draw":a.homeParticipant.participantId===t&&a.scores[0].awayScore>a.scores[0].homeScore?i="lose":a.awayParticipant.participantId===t&&a.scores[0].homeScore>a.scores[0].awayScore&&(i="lose"),e.push({homeName:a.homeParticipant.participantName,awayName:a.awayParticipant.participantName,homeScore:a.scores[0].homeScore,awayScore:a.scores[0].awayScore,result:i})}}),e},adjustHeight:function(){var t=56,a=80,e=32,i=t;this.scope.teams.forEach(function(t){i+=t.detailed===!0?a+t.lastEvents.length*e+20:a}),CoreLibrary.widgetModule.setWidgetHeight(i+1)}});new t({rootElement:"html"})}();