!function(){"use strict";var t=Stapes.subclass({constructor:function(){this.scope={};var t="//c3-static.kambi.com/sb-mobileclient/widget-api/1.0.0.10/resources/css/";CoreLibrary.init().then(function(e){this.scope.args={title:"Football - Team Performance Indicator"},this.scope.widgetCss=t+CoreLibrary.config.clientConfig.customer+"/"+CoreLibrary.config.clientConfig.offering+"/widgets.css",Object.keys(e).forEach(function(t){this.scope.args[t]=e[t]}.bind(this)),CoreLibrary.widgetModule.enableWidgetTransition(!0);var a;a=null!=this.scope.args.eventId?this.scope.args.eventId:CoreLibrary.pageInfo.pageParam,CoreLibrary.statisticsModule.getStatistics("tpi","event/"+a+"/").then(function(t){this.scope.teams=[],this.scope.teams.push({name:t.homeParticipant.participantName,detailed:!1,lastEvents:this.parseLastEvents(t.homeParticipant.participantId,t.homeParticipant.lastEvents)}),this.scope.teams.push({name:t.awayParticipant.participantName,detailed:!1,lastEvents:this.parseLastEvents(t.awayParticipant.participantId,t.awayParticipant.lastEvents)}),this.scope.teams.forEach(function(t){sightglass(t,"detailed",this.adjustHeight.bind(this))}.bind(this)),this.adjustHeight(),this.scope.onLoad="block"}.bind(this))["catch"](function(t){CoreLibrary.widgetModule.removeWidget()})}.bind(this))["catch"](function(t){}),this.view=rivets.bind(document.getElementById("app"),this.scope),this.view.binders["box-css-class"]=function(t,e){t.classList.add("kw-match-"+e)}},parseLastEvents:function(t,e){var a=[];return e.forEach(function(e){if(e.homeParticipant&&e.awayParticipant&&e.scores&&e.scores.length>0){var i="win";e.scores[0].homeScore===e.scores[0].awayScore?i="draw":e.homeParticipant.participantId===t&&e.scores[0].awayScore>e.scores[0].homeScore?i="lose":e.awayParticipant.participantId===t&&e.scores[0].homeScore>e.scores[0].awayScore&&(i="lose"),a.push({homeName:e.homeParticipant.participantName,awayName:e.awayParticipant.participantName,homeScore:e.scores[0].homeScore,awayScore:e.scores[0].awayScore,result:i})}}),a},adjustHeight:function(){var t=56,e=80,a=32,i=t;this.scope.teams.forEach(function(t){i+=t.detailed===!0?e+t.lastEvents.length*a:e}),CoreLibrary.widgetModule.setWidgetHeight(i+1)}});new t}();